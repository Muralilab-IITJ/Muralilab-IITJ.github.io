<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home | Murali Lab | IIT Jodhpur</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-section">
                <h1>Murali Lab</h1>
                <p>IIT Jodhpur</p>
            </div>
            <nav>
                <ul>
                    <li><a href="research.html">Research</a></li>
                    <li><a href="publications.html">Publications</a></li>
                    <li><a href="team.html">Team</a></li>
                   <!-- <li><a href="join.html">Join</a></li>-->
                    <li><a href="teaching.html">Teaching</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <main>
        <h2 class="page-title">Welcome to Murali Lab</h2>
        <div class="research-content">
            <p class="research-intro">
                Welcome to the Murali Lab at IIT Jodhpur. Our research focuses on understanding the cognitive and neural mechanisms underlying control of actions, thoughts, and emotions. We employ a multidisciplinary approach combining neuroimaging, computational modeling, and behavioral analysis to investigate how brain networks support cognitive functions and how these can be modulated in health and disease.
            </p>
            
            <!-- Quick research overview -->
            <div class="research-areas">
                <div class="research-card">
                    <h3>Strategies of control</h3>
                   <!-- <p>Exploring strategies to modulate inhibitory control of actions and thoughts using neurofeedback and brain stimulation approaches.</p>-->
                </div>
                
                <div class="research-card">
                    <h3>BCI and motor control</h3>
                    <!-- <p>Investigating the functional role of transient neural oscillations in cognition and their alterations in neurological disorders.</p>-->
                </div>
                
                <div class="research-card">
                    <h3>Ecologically valid neuroscience </h3>
                     <!--<p>Building computational models that bridge neural processes with behavior to understand cognitive control mechanisms.</p>-->
                </div>
            </div>
        </div>

        <!-- SLEEK NEWS SECTION -->
        <section id="news" class="sleek-news-section">
            <div class="sleek-news-container">
                <div class="news-header">
                    <h2>RECENT NEWS</h2>
                    <a href="#" class="view-all-link">View All News â†’</a>
                </div>
                
                <div id="sleek-news-list" class="sleek-news-list">
                    <div id="sleek-news-loading" class="sleek-loading">Loading recent news...</div>
                </div>
                
                <div id="sleek-news-error" class="error-message" style="display: none;">
                    Unable to load news updates. Please check back later.
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="footer-container">
            <div class="copyright">
                <p>Â© 2025 Murali Lab | IIT Jodhpur</p>
            </div>
            <div class="social-links">
                <a href="#">Twitter</a>
                <a href="#">LinkedIn</a>
                <a href="#">GitHub</a>
            </div>
        </div>
    </footer>

    <script>
        // Load news from JSON file
        async function loadNews() {
            const newsList = document.getElementById('sleek-news-list');
            const loadingElement = document.getElementById('sleek-news-loading');
            const errorElement = document.getElementById('sleek-news-error');
            
            try {
                // Fetch news data from JSON file
                const response = await fetch('news.json');
                
                if (!response.ok) {
                    throw new Error(`Failed to load news: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (!data.news || data.news.length === 0) {
                    newsList.innerHTML = '<div class="sleek-no-news">No recent news updates.</div>';
                    loadingElement.style.display = 'none';
                    return;
                }
                
                // Display the news
                displaySleekNews(data.news);
                loadingElement.style.display = 'none';
                
            } catch (error) {
                console.error('Error loading news:', error);
                loadingElement.style.display = 'none';
                errorElement.style.display = 'block';
            }
        }

        function highlightNames(content, names) {
            if (!names || names.length === 0) return content;
            
            let highlightedContent = content;
            names.forEach(name => {
                const escapedName = name.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                const regex = new RegExp(`\\b${escapedName}\\b`, 'gi');
                highlightedContent = highlightedContent.replace(regex, `<strong>${name}</strong>`);
            });
            return highlightedContent;
        }

        function getNewsIcon(type) {
            const icons = {
                'conference': 'ðŸ“Š',
                'join': 'ðŸŽ“',
                'hire': 'ðŸ‘¥',
                'paper': 'ðŸ“„',
                'award': 'ðŸ†',
                'talk': 'ðŸŽ¤',
                'grant': 'ðŸ’°'
            };
            return icons[type] || 'ðŸ“Œ';
        }

        function displaySleekNews(newsData) {
            const newsList = document.getElementById('sleek-news-list');
            
            // Sort by date (newest first)
            const sortedNews = [...newsData].sort((a, b) => {
                return new Date(b.date) - new Date(a.date);
            });
            
            // Display only the 5 most recent items
            const recentNews = sortedNews.slice(0, 5);
            
            const newsHTML = recentNews.map(item => {
                const highlightedContent = highlightNames(item.content, item.highlightedNames);
                
                return `
                    <div class="sleek-news-item ${item.type}">
                        <div class="sleek-news-date">${formatDate(item.date)}</div>
                        <div class="sleek-news-content">${highlightedContent}</div>
                        <div class="sleek-news-icon">${getNewsIcon(item.type)}</div>
                    </div>
                `;
            }).join('');

            newsList.innerHTML = newsHTML;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }

        // Initialize news loading when page loads
        document.addEventListener('DOMContentLoaded', loadNews);
    </script>
</body>
</html>